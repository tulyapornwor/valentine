<script>
let rosePetals=[];

function drawGallery(){

const canvas=document.getElementById("galleryCanvas");
const ctx=canvas.getContext("2d");

ctx.fillStyle="#f3e5d7";
ctx.fillRect(0,0,900,350);

ctx.fillStyle="#e0c9a6";
ctx.fillRect(0,350,900,150);

const images=[
{src:"photo1.jpg",x:80},
{src:"photo3.jpg",x:620},
{src:"photo4.jpg",x:780}
];

images.forEach(data=>{
const img=new Image();
img.src=data.src;

img.onload=function(){

drawLight(ctx,data.x+50);

ctx.fillStyle="#4e342e";
ctx.fillRect(data.x-5,60,110,130);

ctx.drawImage(img,data.x,65,100,120);
};
});

// วิดีโอตรงกลาง
const video=document.createElement("video");
video.src="video.mp4";
video.autoplay=true;
video.loop=true;
video.muted=true;
video.play();

function drawVideo(){
ctx.fillStyle="#4e342e";
ctx.fillRect(350,55,210,140);

drawLight(ctx,450);

ctx.drawImage(video,360,65,190,120);
}

// สร้างกลีบกุหลาบ
for(let i=0;i<30;i++){
rosePetals.push({
x:Math.random()*900,
y:Math.random()*500,
speed:1+Math.random()*2
});
}

function animate(){

ctx.clearRect(0,0,900,500);

ctx.fillStyle="#f3e5d7";
ctx.fillRect(0,0,900,350);

ctx.fillStyle="#e0c9a6";
ctx.fillRect(0,350,900,150);

drawVideo();

images.forEach(data=>{
const img=new Image();
img.src=data.src;
ctx.fillStyle="#4e342e";
ctx.fillRect(data.x-5,60,110,130);
ctx.drawImage(img,data.x,65,100,120);
drawLight(ctx,data.x+50);
});

drawPeople(ctx);
drawShadows(ctx);
drawPetals(ctx);

requestAnimationFrame(animate);
}

animate();
}

function drawLight(ctx,x){
ctx.fillStyle="rgba(255,255,200,0.3)";
ctx.beginPath();
ctx.moveTo(x,0);
ctx.lineTo(x-60,60);
ctx.lineTo(x+60,60);
ctx.fill();
}

function drawPeople(ctx){
const people=[120,200,300,400,500,600,700,800];

people.forEach(x=>{
ctx.strokeStyle="#222";
ctx.lineWidth=4;

ctx.beginPath();
ctx.moveTo(x,420);
ctx.lineTo(x-6,440);
ctx.moveTo(x,420);
ctx.lineTo(x+6,440);
ctx.stroke();

ctx.beginPath();
ctx.moveTo(x,390);
ctx.lineTo(x,420);
ctx.stroke();

ctx.beginPath();
ctx.moveTo(x-10,400);
ctx.lineTo(x+10,400);
ctx.stroke();

ctx.fillStyle="#111";
ctx.beginPath();
ctx.arc(x,380,10,0,Math.PI*2);
ctx.fill();
});
}

function drawShadows(ctx){
const people=[120,200,300,400,500,600,700,800];

people.forEach(x=>{
ctx.fillStyle="rgba(0,0,0,0.2)";
ctx.beginPath();
ctx.ellipse(x,450,20,6,0,0,Math.PI*2);
ctx.fill();
});
}

function drawPetals(ctx){
ctx.fillStyle="red";

rosePetals.forEach(p=>{
ctx.beginPath();
ctx.arc(p.x,p.y,4,0,Math.PI*2);
ctx.fill();

p.y+=p.speed;
if(p.y>500){
p.y=0;
p.x=Math.random()*900;
}
});
}
</script>

</body>
</html>
