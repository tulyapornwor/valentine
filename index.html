<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Museum of Us</title>

<style>

body{
margin:0;
background:#000;
font-family:sans-serif;
color:white;
text-align:center;
overflow:hidden;
}

/* ‡∏´‡∏ô‡πâ‡∏≤ intro */
#intro,#endScreen{
position:absolute;
top:0;
left:0;
width:100%;
height:100%;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
background:#000;
z-index:10;
}

button{
padding:15px 30px;
margin:10px;
font-size:20px;
border:none;
border-radius:10px;
cursor:pointer;
}

#gallery{
display:none;
}

canvas{
display:block;
margin:auto;
background:#111;
box-shadow:0 0 120px rgba(255,255,255,0.1);
}

</style>
</head>

<body>

<div id="intro">
<h1>Happy Valentine Day</h1>
<h2>‡∏£‡∏±‡∏Å‡∏Å‡∏±‡∏ô‡πÑ‡∏´‡∏° üíñ</h2>
<button onclick="enterMuseum(true)">YES</button>
<button onclick="enterMuseum(false)">NO</button>
<p id="angry"></p>
</div>

<div id="gallery">
<canvas id="galleryCanvas" width="900" height="500"></canvas>
</div>

<div id="endScreen" style="display:none;">
<h1>‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏¥‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô üíñ</h1>
<img src="flowers.png" width="300">
<h2>‡∏£‡∏±‡∏Å‡πÄ‡∏ò‡∏≠‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡πÇ‡∏•‡∏Å üåπ</h2>
</div>

<script>

let rosePetals=[];
let showEnd=false;

function enterMuseum(ans){
if(!ans){
document.getElementById("angry").innerText="üò° ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≠‡∏ö YES ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô!";
return;
}
document.getElementById("intro").style.display="none";
document.getElementById("gallery").style.display="block";
drawGallery();
setTimeout(()=>{
document.getElementById("gallery").style.display="none";
document.getElementById("endScreen").style.display="flex";
},35000);
}

function drawGallery(){

const canvas=document.getElementById("galleryCanvas");
const ctx=canvas.getContext("2d");

const images=[
{src:"photo1.jpg",x:80},
{src:"photo3.jpg",x:620},
{src:"photo4.jpg",x:760}
];

const video=document.createElement("video");
video.src="video.mp4";
video.autoplay=true;
video.loop=true;
video.muted=true;
video.play();

for(let i=0;i<40;i++){
rosePetals.push({
x:Math.random()*900,
y:Math.random()*500,
speed:1+Math.random()*2,
rot:Math.random()*360
});
}

function drawFrame(x,src){

const img=new Image();
img.src=src;

img.onload=function(){

const maxW=220;
const maxH=260;

let w=img.width;
let h=img.height;

const ratio=Math.min(maxW/w,maxH/h);
w*=ratio;
h*=ratio;

ctx.fillStyle="#4e342e";
ctx.fillRect(x-15,50,w+30,h+30);

ctx.drawImage(img,x,65,w,h);

drawLight(x+(w/2));
};
}

function animate(){

ctx.clearRect(0,0,900,500);

ctx.fillStyle="#f3e5d7";
ctx.fillRect(0,0,900,350);

ctx.fillStyle="#e0c9a6";
ctx.fillRect(0,350,900,150);

images.forEach(data=>{
drawFrame(data.x,data.src);
});

ctx.fillStyle="#4e342e";
ctx.fillRect(330,45,240,170);
drawLight(450);
ctx.drawImage(video,340,55,220,150);

drawPetals();

requestAnimationFrame(animate);
}

function drawLight(x){
ctx.fillStyle="rgba(255,255,200,0.2)";
ctx.beginPath();
ctx.moveTo(x,0);
ctx.lineTo(x-80,60);
ctx.lineTo(x+80,60);
ctx.fill();
}

function drawPetals(){
ctx.fillStyle="red";

rosePetals.forEach(p=>{
ctx.save();
ctx.translate(p.x,p.y);
ctx.rotate(p.rot);
ctx.beginPath();
ctx.ellipse(0,0,6,4,0,0,Math.PI*2);
ctx.fill();
ctx.restore();

p.y+=p.speed;
p.rot+=0.02;

if(p.y>500){
p.y=0;
p.x=Math.random()*900;
}
});
}

animate();
}

</script>
</body>
</html>
